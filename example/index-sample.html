<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <link rel="manifest" href="manifest.json" />
    <title></title>
    <!--
    RichFlyerの各種機能を使用するためのメソッド群です。
    -->
    <script src="js/rf-functions.js" id="rffunction"></script>
    <!--
    Webプッシュ通知の関連処理をカスタマイズするためのサンプルソースです。
    通知の購読や解除などを実行します。
    必要に応じてカスタマイズできます。
    -->
    <script src="js/rf-webpush-sample.js" id="rfscript"></script>
    <!--
    RichFlyerからの通知を受信するための初期処理。
    [SDK実行キー]:管理サイトより取得
    [お客様の環境のドメイン]:本処理を実行するHTMLを設置するドメイン
    [お客様のWebsitePushId]: p12認証ファイル作成時に指定したWebsite Push Id、SafariPushを使用する際に必要
    -->
    <link rel="stylesheet" href="./css/rf-dialog-style.css" type="text/css">
  </head>
  <body>
    <h2>The RichFlyer Webpush Library Sample</h2>
    <!-- 通知を購読 -->
    <button type="button" onclick="initialize('SDK実行キー','お客様の環境のドメイン', 'お客様のWebsitePushId')">Subscribe!</button><br><br>
    <!-- 通知の購読を解除 -->
    <button type="button" onclick="unsubscribe()">Unsubscribe</button><br><br>
    <!-- セグメントを登録 -->
    <button type="button" onclick="registSegments('SDK実行キー', 'お客様のWebsitePushId')">Register Segments</button>
    <!-- カスタム許可ダイアログの表示 -->
    <br><br>
    <button onclick="initialize_popup('SDK実行キー','お客様の環境のドメイン', 'お客様のWebsitePushId', 'normal')">popup normal</button>
    <br><br>
    <button onclick="initialize_popup('SDK実行キー','お客様の環境のドメイン', 'お客様のWebsitePushId', 'bar')">popup bar</button>
    <br><br>
    <button onclick="initialize_popup('SDK実行キー','お客様の環境のドメイン', 'お客様のWebsitePushId', 'center')">popup center</button>
    
    <!-- 起動イベント -->
    <script>
        window.addEventListener('load',  function() {
            sendLaunchEvent('SDK実行キー')
        });
    </script>  
  </body>
</html>
